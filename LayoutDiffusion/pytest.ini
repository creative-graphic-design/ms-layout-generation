[pytest]
testpaths = tests
addopts = --cov=src/layout_diffusion --cov=improved-diffusion/improved_diffusion --cov=improved-diffusion/scripts --cov=eval_src --cov=util_scripts --cov-config=.coveragerc --cov-fail-under=90
markers =
    integration: integration tests
    e2e: end-to-end tests
    gpu: requires GPU (single or multi)
    distributed: requires multi-GPU with DDP/MPI
    slow: slow tests (>10 minutes)
    real_data: uses real dataset (not mocked)
    cpu_only: CPU-only test
timeout = 120
